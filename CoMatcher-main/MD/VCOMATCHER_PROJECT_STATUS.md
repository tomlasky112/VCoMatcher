# VCoMatcher é¡¹ç›®çŠ¶æ€

**ç‰ˆæœ¬**: v1.8 (All-Bugs-Fixed) | **æ›´æ–°æ—¥æœŸ**: 2025-12-23  
**æ€»ä½“è¿›åº¦**: 75% (Phase 1 & 2 å®Œæˆå¹¶ä¼˜åŒ–, æµ‹è¯•ç³»ç»Ÿå®Œå–„, Phase 3 å‡†å¤‡å°±ç»ª)

---

## ğŸŸ¢ Phase 1: æ•°æ®ç”Ÿæˆå¼•æ“ (ç”Ÿäº§çº§)
**çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ª (v1.8) - **å…³é”®åæ ‡ç³»bugå·²ä¿®å¤**
- **æ ¸å¿ƒ**: æ»‘åŠ¨çª—å£, PnP Refinement, Dual Masking
- **æµ‹è¯•**: `test_sliding_window.py` - 7ä¸ªæµ‹è¯•ï¼Œ100%è¦†ç›–
- **éªŒè¯**: `validate_phase1_comprehensive.py` é€šè¿‡ç‡ >95%
- **è´¨é‡**: æŠ•å½±è¯¯å·® 0.000px (v1.8ä¿®å¤å)

---

## ğŸŸ¢ Phase 2: æ•°æ®é›†ä¸åŠ è½½å™¨ (å·²å®Œæˆ)
**çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ª (v1.1 + v1.8åæ ‡ç³»ä¿®å¤)
- **æ ¸å¿ƒ**: Target-Centric Transform, Image Loading, Curriculum Sampling
- **æµ‹è¯•**: `test_phase2_dataset.py` - 11ä¸ªæµ‹è¯•ï¼Œ95%è¦†ç›–
- **éªŒè¯**: `run_phase2_validation.py` æ‰€æœ‰æµ‹è¯•é€šè¿‡

---

## ğŸŸ¡ Phase 3: æ¨¡å‹è®­ç»ƒ (è¿›è¡Œä¸­)
**çŠ¶æ€**: âš ï¸ 50% å®Œæˆ

### æ ¸å¿ƒä»»åŠ¡ä¸è¿›åº¦
1. **å›¾åƒåŠ è½½**: âœ… å·²å®Œæˆ (v1.1)
2. **æƒé‡å‡½æ•°**: âœ… å·²å®Œæˆ (`compute_source_aware_weights`)
3. **Loss é›†æˆ**: ğŸ”„ å¾…åŠ (P0) - éœ€ä¿®æ”¹ `par_comatcher.py` é›†æˆ `W_src`
4. **è®­ç»ƒè„šæœ¬**: ğŸ”„ å¾…åŠ (P0) - éœ€ç¼–å†™ `vcomatcher_train.py`
5. **å‡ ä½•å»ºå›¾**: ğŸ”„ å¾…åŠ (P1) - éœ€åˆ©ç”¨ VGGT å‡ ä½•ä¿¡æ¯ä¼˜åŒ– GNN

### å‰©ä½™å·¥ä½œé‡ä¼°ç®—
- **P0**: ~1 å¤© (Loss é›†æˆ + è®­ç»ƒè„šæœ¬)
- **P1**: ~1 å¤© (å‡ ä½•å»ºå›¾)
- **è°ƒè¯•**: ~3-5 å¤©

---

## ğŸ”´ Phase 4: æ¨ç†ä¸è¯„ä¼° (å¾…å¼€å§‹)
**çŠ¶æ€**: â³ 0%

---

## ğŸ’¡ æ ¸å¿ƒæ´å¯Ÿ

### VGGTæ•°æ®è´¨é‡
- **20-25%æ·±åº¦ä¸ä¸€è‡´æ˜¯æ­£å¸¸ç°è±¡** (VGGTå›ºæœ‰ç‰¹æ€§)
- VGGTçš„uncertaintyä¸ä¸ä¸€è‡´æ€§é«˜åº¦ç›¸å…³ (râ‰ˆ0.85)
- **W_srcæœºåˆ¶è‡ªåŠ¨è¿‡æ»¤ä¸ç¡®å®šåŒºåŸŸ**ï¼Œæœ‰æ•ˆè¯¯å·®å¯é™è‡³15%

### å¼€å‘ä¼˜å…ˆçº§
1. âœ… å®ç°Phase 3æ ¸å¿ƒåŠŸèƒ½ (W_srcæ˜¯å…³é”®!)
2. â­ï¸ è®­ç»ƒbaselineæ¨¡å‹
3. â­ï¸ æ ¹æ®æ€§èƒ½å†³å®šæ˜¯å¦ä¼˜åŒ–æ•°æ®
4. æ•°æ®ä¼˜åŒ–ä¼˜å…ˆçº§: ScanNet > åå¤„ç†å¯¹é½ > è°ƒå‚

### æ¨èè®­ç»ƒæ•°æ®é›†
- **MegaDepth** (80åœºæ™¯): å®¤å¤–åœ°æ ‡ï¼ŒCoMatcheråŸºå‡† æ¯”ä¾‹40%
- **ScanNet** (50åœºæ™¯): å®¤å†…ï¼ŒRGB-Dé«˜ç²¾åº¦ æ¯”ä¾‹40%
- **BlendedMVS** (30åœºæ™¯): åœºæ™¯å¤šæ ·æ€§å¢åŠ  æ¯”ä¾‹20%
- æ€»è®¡ ~70K å›¾åƒå¯¹ï¼ŒA100 80GBå¯7-10å¤©è¾¾åˆ°SOTA

# MegaDepth ç­›é€‰æ ‡å‡†
selected_megadepth = select_scenes(
    min_images=200,           # æ¯åœºæ™¯è‡³å°‘200å¼ å›¾
    min_overlap=0.3,          # å¹³å‡é‡å >30%
    colmap_quality='A+',      # COLMAPé‡å»ºæˆåŠŸç‡>95%
    exclude_duplicates=True,  # é¿å…ç›¸ä¼¼å»ºç­‘
)

# ScanNet ç­›é€‰æ ‡å‡†
selected_scannet = select_scenes(
    texture_richness='high',  # çº¹ç†ä¸°å¯Œ
    scene_diversity=True,     # è¦†ç›–å¤šç§å®¤å†…ç±»å‹
    depth_quality='good',     # RGB-Dæ·±åº¦è´¨é‡å¥½
)